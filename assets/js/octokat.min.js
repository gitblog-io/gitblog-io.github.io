!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Octokat=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var Chainer,URL_TESTER,URL_VALIDATOR,plus,toPromise,toQueryString,__slice=[].slice;URL_VALIDATOR=require("./grammar").URL_VALIDATOR,plus=require("./plus"),toPromise=require("./helper-promise").toPromise,toQueryString=function(options){var key,params,value,_ref;if(!options||options==={})return"";params=[],_ref=options||{};for(key in _ref)value=_ref[key],params.push(""+key+"="+encodeURIComponent(value));return"?"+params.join("&")},URL_TESTER=function(path){var err;return URL_VALIDATOR.test(path)?void 0:(err="BUG: Invalid Path. If this is actually a valid path then please update the URL_VALIDATOR. path="+path,console.warn(err))},Chainer=function(request,_path,name,contextTree,fn){var verbFunc,verbName,verbs,_fn;if(null==fn&&(fn=function(){var args,separator;if(args=1<=arguments.length?__slice.call(arguments,0):[],!args.length)throw new Error("BUG! must be called with at least one argument");return separator="compare"===name?"...":"/",Chainer(request,""+_path+"/"+args.join(separator),name,contextTree)}),verbs={fetch:function(cb,config){return URL_TESTER(_path),request("GET",""+_path+toQueryString(config),null,{},cb)},read:function(cb,config){return URL_TESTER(_path),request("GET",""+_path+toQueryString(config),null,{raw:!0},cb)},readBinary:function(cb,config){return URL_TESTER(_path),request("GET",""+_path+toQueryString(config),null,{raw:!0,isBase64:!0},cb)},remove:function(cb,config){return URL_TESTER(_path),request("DELETE",_path,config,{isBoolean:!0},cb)},create:function(cb,config,isRaw){return URL_TESTER(_path),request("POST",_path,config,{raw:isRaw},cb)},update:function(cb,config){return URL_TESTER(_path),request("PATCH",_path,config,null,cb)},add:function(cb,config){return URL_TESTER(_path),request("PUT",_path,config,{isBoolean:!0},cb)},contains:function(){var args,cb;return cb=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],URL_TESTER(_path),request("GET",""+_path+"/"+args.join("/"),null,{isBoolean:!0},cb)}},name)for(verbName in verbs)verbFunc=verbs[verbName],fn[verbName]=toPromise(verbFunc);if("function"==typeof fn||"object"==typeof fn){_fn=function(name){return delete fn[plus.camelize(name)],Object.defineProperty(fn,plus.camelize(name),{configurable:!0,enumerable:!0,get:function(){return Chainer(request,""+_path+"/"+name,name,contextTree[name])}})};for(name in contextTree||{})_fn(name)}return fn},module.exports=Chainer},{"./grammar":2,"./helper-promise":4,"./plus":6}],2:[function(require,module,exports){var DEFAULT_HEADER,OBJECT_MATCHER,PREVIEW_HEADERS,TREE_OPTIONS,URL_VALIDATOR;URL_VALIDATOR=/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/(zen|octocat|users|issues|gists|emojis|markdown|meta|rate_limit|feeds|events|notifications|notifications\/threads(\/[^\/]+)|notifications\/threads(\/[^\/]+)\/subscription|gitignore\/templates(\/[^\/]+)?|user|user\/(repos|orgs|followers|following(\/[^\/]+)?|emails(\/[^\/]+)?|issues|starred|starred(\/[^\/]+){2}|teams)|orgs\/[^\/]+|orgs\/[^\/]+\/(repos|issues|members|events|teams)|teams\/[^\/]+|teams\/[^\/]+\/(members(\/[^\/]+)?|memberships\/[^\/]+|repos|repos(\/[^\/]+){2})|users\/[^\/]+|users\/[^\/]+\/(repos|orgs|gists|followers|following(\/[^\/]+){0,2}|keys|starred|received_events(\/public)?|events(\/public)?|events\/orgs\/[^\/]+)|search\/(repositories|issues|users|code)|gists\/(public|starred|([a-f0-9]{20}|[0-9]+)|([a-f0-9]{20}|[0-9]+)\/forks|([a-f0-9]{20}|[0-9]+)\/comments(\/[0-9]+)?|([a-f0-9]{20}|[0-9]+)\/star)|repos(\/[^\/]+){2}|repos(\/[^\/]+){2}\/(readme|tarball(\/[^\/]+)?|zipball(\/[^\/]+)?|compare\/[a-f0-9:]{40}\.{3}[a-f0-9:]{40}|deployments(\/[0-9]+)?|deployments\/[0-9]+\/statuses(\/[0-9]+)?|hooks|hooks\/[^\/]+|hooks\/[^\/]+\/tests|assignees|languages|teams|tags|branches(\/[^\/]+){0,2}|contributors|subscribers|subscription|stargazers|comments(\/[0-9]+)?|downloads(\/[0-9]+)?|forks|milestones|labels|releases|releases\/([0-9]+)|releases\/([0-9]+)\/assets|releases\/latest|releases\/tags\/([^\/]+)|releases\/assets\/([0-9]+)|events|notifications|merges|statuses\/[a-f0-9]{40}|pages|pages\/builds|pages\/builds\/latest|commits|commits\/[a-f0-9]{40}|commits\/[a-f0-9]{40}\/(comments|status|statuses)?|contents\/|contents(\/[^\/]+)*|collaborators(\/[^\/]+)?|(issues|pulls)|(issues|pulls)\/(|events|events\/[0-9]+|comments(\/[0-9]+)?|[0-9]+|[0-9]+\/events|[0-9]+\/comments)|pulls\/[0-9]+\/(files|commits)|git\/(refs|refs\/heads(\/[^\/]+)?|trees(\/[^\/]+)?|blobs(\/[a-f0-9]{40}$)?|commits(\/[a-f0-9]{40}$)?)|stats\/(contributors|commit_activity|code_frequency|participation|punch_card))|licenses|licenses\/([^\/]+)|authorizations|authorizations\/((\d+)|clients\/([^\/]{20})|clients\/([^\/]{20})\/([^\/]+))|applications\/([^\/]{20})\/tokens|applications\/([^\/]{20})\/tokens\/([^\/]+)|enterprise\/(settings\/license|stats\/(issues|hooks|milestones|orgs|comments|pages|users|gists|pulls|repos|all))|staff\/indexing_jobs|users\/[^\/]+\/(site_admin|suspended)|setup\/api\/(start|upgrade|configcheck|configure|settings(authorized-keys)?|maintenance))$/,TREE_OPTIONS={zen:!1,octocat:!1,issues:!1,emojis:!1,markdown:!1,meta:!1,rate_limit:!1,feeds:!1,events:!1,notifications:{threads:{subscription:!1}},gitignore:{templates:!1},user:{repos:!1,orgs:!1,followers:!1,following:!1,emails:!1,issues:!1,starred:!1,teams:!1},orgs:{repos:!1,issues:!1,members:!1,events:!1,teams:!1},teams:{members:!1,memberships:!1,repos:!1},users:{repos:!1,orgs:!1,gists:!1,followers:!1,following:!1,keys:!1,starred:!1,received_events:{"public":!1},events:{"public":!1,orgs:!1},site_admin:!1,suspended:!1},search:{repositories:!1,issues:!1,users:!1,code:!1},gists:{"public":!1,starred:!1,star:!1,comments:!1,forks:!1},repos:{readme:!1,tarball:!1,zipball:!1,compare:!1,deployments:{statuses:!1},hooks:{tests:!1},assignees:!1,languages:!1,teams:!1,tags:!1,branches:!1,contributors:!1,subscribers:!1,subscription:!1,stargazers:!1,comments:!1,downloads:!1,forks:!1,milestones:!1,labels:!1,releases:{assets:!1,latest:!1,tags:!1},events:!1,notifications:!1,merges:!1,statuses:!1,pulls:{merge:!1,comments:!1,commits:!1,files:!1,events:!1},pages:{builds:{latest:!1}},commits:{comments:!1,status:!1,statuses:!1},contents:!1,collaborators:!1,issues:{events:!1,comments:!1},git:{refs:{heads:!1},trees:!1,blobs:!1,commits:!1},stats:{contributors:!1,commit_activity:!1,code_frequency:!1,participation:!1,punch_card:!1}},licenses:!1,authorizations:{clients:!1},applications:{tokens:!1},enterprise:{settings:{license:!1},stats:{issues:!1,hooks:!1,milestones:!1,orgs:!1,comments:!1,pages:!1,users:!1,gists:!1,pulls:!1,repos:!1,all:!1}},staff:{indexing_jobs:!1},setup:{api:{start:!1,upgrade:!1,configcheck:!1,configure:!1,settings:{"authorized-keys":!1},maintenance:!1}}},OBJECT_MATCHER={repos:/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/repos\/[^\/]+\/[^\/]+$/,gists:/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/gists\/[^\/]+$/,issues:/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/repos\/[^\/]+\/[^\/]+\/(issues|pulls)[^\/]+$/,users:/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/users\/[^\/]+$/,orgs:/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/orgs\/[^\/]+$/,"repos.comments":/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/repos\/[^\/]+\/[^\/]+\/comments\/[^\/]+$/},PREVIEW_HEADERS={"application/vnd.github.drax-preview+json":/^(https?:\/\/[^\/]+)?(\/api\/v3)?(\/licenses|\/licenses\/([^\/]+)|\/repos\/([^\/]+)\/([^\/]+))$/,"application/vnd.github.v3.star+json":/^(https?:\/\/[^\/]+)?(\/api\/v3)?\/users\/([^\/]+)\/starred$/,"application/vnd.github.mirage-preview+json":/^(https?:\/\/[^\/]+)?(\/api\/v3)?(\/authorizations|\/authorizations\/clients\/([^\/]{20})|\/authorizations\/clients\/([^\/]{20})\/([^\/]+)|\/authorizations\/([\d]+)|\/applications\/([^\/]{20})\/tokens|\/applications\/([^\/]{20})\/tokens\/([^\/]+))$/},DEFAULT_HEADER=function(url){var key,val;for(key in PREVIEW_HEADERS)if(val=PREVIEW_HEADERS[key],val.test(url))return key;return"application/vnd.github.v3+json"},module.exports={URL_VALIDATOR:URL_VALIDATOR,TREE_OPTIONS:TREE_OPTIONS,OBJECT_MATCHER:OBJECT_MATCHER,DEFAULT_HEADER:DEFAULT_HEADER}},{}],3:[function(require,module,exports){(function(global){var base64encode;if("undefined"!=typeof window&&null!==window)base64encode=window.btoa;else{if("undefined"!=typeof global&&null!==global?!global.Buffer:!0)throw new Error("Native btoa function or Buffer is missing");base64encode=function(str){var buffer;return buffer=new global.Buffer(str,"binary"),buffer.toString("base64")}}module.exports=base64encode}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(require,module,exports){var Promise,allPromises,injector,newPromise,req,toPromise,_ref,__slice=[].slice;"undefined"!=typeof window&&null!==window?window.Q?(newPromise=function(_this){return function(fn){var deferred,reject,resolve;return deferred=window.Q.defer(),resolve=function(val){return deferred.resolve(val)},reject=function(err){return deferred.reject(err)},fn(resolve,reject),deferred.promise}}(this),allPromises=function(promises){return window.Q.all(promises)}):window.angular?(newPromise=null,allPromises=null,injector=angular.injector(["ng"]),injector.invoke(function($q){return newPromise=function(fn){var deferred,reject,resolve;return deferred=$q.defer(),resolve=function(val){return deferred.resolve(val)},reject=function(err){return deferred.reject(err)},fn(resolve,reject),deferred.promise},allPromises=function(promises){return $q.all(promises)}})):(null!=(_ref=window.jQuery)?_ref.Deferred:void 0)?(newPromise=function(_this){return function(fn){var promise,reject,resolve;return promise=window.jQuery.Deferred(),resolve=function(val){return promise.resolve(val)},reject=function(val){return promise.reject(val)},fn(resolve,reject),promise.promise()}}(this),allPromises=function(_this){return function(promises){var _ref1;return(_ref1=window.jQuery).when.apply(_ref1,promises).then(function(){var promises;return promises=1<=arguments.length?__slice.call(arguments,0):[]})}}(this)):window.Promise?(newPromise=function(_this){return function(fn){return new window.Promise(function(resolve,reject){return resolve.fulfill?fn(resolve.resolve.bind(resolve),resolve.reject.bind(resolve)):fn.apply(null,arguments)})}}(this),allPromises=function(_this){return function(promises){return window.Promise.all(promises)}}(this)):"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Octokat: A Promise API was not found. Supported libraries that have Promises are jQuery, angularjs, and es6-promise"):(req=require,Promise=this.Promise||req("es6-promise").Promise,newPromise=function(fn){return new Promise(fn)},allPromises=function(promises){return Promise.all(promises)}),toPromise=function(orig){return function(){var args,last;if(args=1<=arguments.length?__slice.call(arguments,0):[],last=args[args.length-1],"function"==typeof last)return args.pop(),orig.apply(null,[last].concat(__slice.call(args)));if(newPromise)return newPromise(function(resolve,reject){var cb;return cb=function(err,val){return err?reject(err):resolve(val)},orig.apply(null,[cb].concat(__slice.call(args)))});throw new Error("You must specify a callback or have a promise library loaded")}},module.exports={newPromise:newPromise,allPromises:allPromises,toPromise:toPromise}},{}],5:[function(require,module,exports){(function(global){var Chainer,OBJECT_MATCHER,Octokat,Replacer,Request,TREE_OPTIONS,plus,toPromise,_ref;plus=require("./plus"),_ref=require("./grammar"),TREE_OPTIONS=_ref.TREE_OPTIONS,OBJECT_MATCHER=_ref.OBJECT_MATCHER,Chainer=require("./chainer"),Replacer=require("./replacer"),Request=require("./request"),toPromise=require("./helper-promise").toPromise,Octokat=function(clientOptions){var obj,path,request,_request;return null==clientOptions&&(clientOptions={}),_request=Request(clientOptions),request=function(method,path,data,options,cb){var replacer,_ref1;return null==options&&(options={raw:!1,isBase64:!1,isBoolean:!1}),replacer=new Replacer(request),data&&!("undefined"!=typeof global&&null!==global&&null!=(_ref1=global.Buffer)?_ref1.isBuffer(data):void 0)&&(data=replacer.uncamelize(data)),_request(method,path,data,options,function(err,val){var context,k,key,obj,re,url,_i,_len,_ref2;if(err)return cb(err);if(options.raw)return cb(null,val);obj=replacer.replace(val),url=obj.url||path;for(key in OBJECT_MATCHER)if(re=OBJECT_MATCHER[key],re.test(url)){for(context=TREE_OPTIONS,_ref2=key.split("."),_i=0,_len=_ref2.length;_len>_i;_i++)k=_ref2[_i],context=context[k];Chainer(request,url,k,context,obj)}return cb(null,obj)})},path="",obj={},Chainer(request,path,null,TREE_OPTIONS,obj),obj.me=obj.user,obj.status=toPromise(function(cb){return request("GET","https://status.github.com/api/status.json",null,null,cb)}),obj.status.api=toPromise(function(cb){return request("GET","https://status.github.com/api.json",null,null,cb)}),obj.status.lastMessage=toPromise(function(cb){return request("GET","https://status.github.com/api/last-message.json",null,null,cb)}),obj.status.messages=toPromise(function(cb){return request("GET","https://status.github.com/api/messages.json",null,null,cb)}),obj},module.exports=Octokat}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./chainer":1,"./grammar":2,"./helper-promise":4,"./plus":6,"./replacer":7,"./request":8}],6:[function(require,module,exports){var plus;plus={camelize:function(string){return string?string.replace(/[_-]+(\w)/g,function(m){return m[1].toUpperCase()}):""},uncamelize:function(string){return string?string.replace(/([A-Z])+/g,function(match,letter){return null==letter&&(letter=""),"_"+letter.toLowerCase()}):""},dasherize:function(string){return string?(string=string[0].toLowerCase()+string.slice(1),string.replace(/([A-Z])|(_)/g,function(m,letter){return letter?"-"+letter.toLowerCase():"-"})):""}},module.exports=plus},{}],7:[function(require,module,exports){var Chainer,OBJECT_MATCHER,Replacer,TREE_OPTIONS,plus,toPromise,_ref,__slice=[].slice;plus=require("./plus"),toPromise=require("./helper-promise").toPromise,_ref=require("./grammar"),TREE_OPTIONS=_ref.TREE_OPTIONS,OBJECT_MATCHER=_ref.OBJECT_MATCHER,Chainer=require("./chainer"),Replacer=function(){function Replacer(_request){this._request=_request}return Replacer.prototype.uncamelize=function(obj){var i,key,o,value;if(Array.isArray(obj))return function(){var _i,_len,_results;for(_results=[],_i=0,_len=obj.length;_len>_i;_i++)i=obj[_i],_results.push(this.uncamelize(i));return _results}.call(this);if(obj===Object(obj)){o={};for(key in obj)value=obj[key],o[plus.uncamelize(key)]=this.uncamelize(value);return o}return obj},Replacer.prototype.replace=function(o){return Array.isArray(o)?this._replaceArray(o):o===Object(o)?this._replaceObject(o):o},Replacer.prototype._replaceObject=function(orig){var acc,context,k,key,re,url,value,_i,_len,_ref1;acc={};for(key in orig)value=orig[key],this._replaceKeyValue(acc,key,value);url=acc.url;for(key in OBJECT_MATCHER)if(re=OBJECT_MATCHER[key],re.test(url)){for(context=TREE_OPTIONS,_ref1=key.split("."),_i=0,_len=_ref1.length;_len>_i;_i++)k=_ref1[_i],context=context[k];Chainer(this._request,url,k,context,acc)}return acc},Replacer.prototype._replaceArray=function(orig){var arr,item,key,value;arr=function(){var _i,_len,_results;for(_results=[],_i=0,_len=orig.length;_len>_i;_i++)item=orig[_i],_results.push(this.replace(item));return _results}.call(this);for(key in orig)value=orig[key],"string"==typeof key&&this._replaceKeyValue(arr,key,value);return arr},Replacer.prototype._replaceKeyValue=function(acc,key,value){var fn,newKey;return/_url$/.test(key)?(fn=function(_this){return function(){var args,cb,contentType,data,i,m,match,param,url,_ref1;for(cb=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],url=value,i=0;m=/(\{[^\}]+\})/.exec(url);){if(match=m[1],i<args.length)switch(param=args[i],match[1]){case"/":param="/"+param;break;case"?":param="?"+match.slice(2,-1)+"="+param}else if(param="","/"!==match[1])throw new Error("BUG: Missing required parameter "+match);url=url.replace(match,param),i++}return/upload_url$/.test(key)?(_ref1=args.slice(-2),contentType=_ref1[0],data=_ref1[1],_this._request("POST",url,data,{contentType:contentType,raw:!0},cb)):_this._request("GET",url,null,null,cb)}}(this),fn=toPromise(fn),fn.url=value,newKey=key.substring(0,key.length-"_url".length),acc[plus.camelize(newKey)]=fn):/_at$/.test(key)?acc[plus.camelize(key)]=new Date(value):acc[plus.camelize(key)]=this.replace(value)},Replacer}(),module.exports=Replacer},{"./chainer":1,"./grammar":2,"./helper-promise":4,"./plus":6}],8:[function(require,module,exports){var DEFAULT_HEADER,ETagResponse,Request,ajax,base64encode,userAgent;base64encode=require("./helper-base64"),DEFAULT_HEADER=require("./grammar").DEFAULT_HEADER,("undefined"==typeof window||null===window)&&(userAgent="octokat.js"),ajax=function(options,cb){var XMLHttpRequest,name,req,value,xhr,_ref;"undefined"!=typeof window&&null!==window?XMLHttpRequest=window.XMLHttpRequest:(req=require,XMLHttpRequest=req("xmlhttprequest").XMLHttpRequest),xhr=new XMLHttpRequest,xhr.dataType=options.dataType,"function"==typeof xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),xhr.open(options.type,options.url),options.data&&"GET"!==options.type&&xhr.setRequestHeader("Content-Type",options.contentType),_ref=options.headers;for(name in _ref)value=_ref[name],xhr.setRequestHeader(name,value);return xhr.onreadystatechange=function(){var _name,_ref1;return 4===xhr.readyState?(null!=(_ref1=options.statusCode)&&"function"==typeof _ref1[_name=xhr.status]&&_ref1[_name](),xhr.status>=200&&xhr.status<300||304===xhr.status||302===xhr.status?cb(null,xhr):cb(xhr)):void 0},xhr.send(options.data)},ETagResponse=function(){function ETagResponse(eTag,data,status){this.eTag=eTag,this.data=data,this.status=status}return ETagResponse}(),Request=function(clientOptions){var _cachedETags,_listeners;return null==clientOptions&&(clientOptions={}),null==clientOptions.rootURL&&(clientOptions.rootURL="https://api.github.com"),null==clientOptions.useETags&&(clientOptions.useETags=!0),null==clientOptions.usePostInsteadOfPatch&&(clientOptions.usePostInsteadOfPatch=!1),_listeners=[],_cachedETags={},function(method,path,data,options,cb){var ajaxConfig,auth,headers,mimeType;return null==options&&(options={raw:!1,isBase64:!1,isBoolean:!1,contentType:"application/json"}),null==options&&(options={}),null==options.raw&&(options.raw=!1),null==options.isBase64&&(options.isBase64=!1),null==options.isBoolean&&(options.isBoolean=!1),null==options.contentType&&(options.contentType="application/json"),"PATCH"===method&&clientOptions.usePostInsteadOfPatch&&(method="POST"),/^http/.test(path)||(path=""+clientOptions.rootURL+path),mimeType=void 0,options.isBase64&&(mimeType="text/plain; charset=x-user-defined"),headers={Accept:clientOptions.acceptHeader||DEFAULT_HEADER(path)},options.raw&&(headers.Accept="application/vnd.github.raw"),userAgent&&(headers["User-Agent"]=userAgent),""+method+" "+path in _cachedETags?headers["If-None-Match"]=_cachedETags[""+method+" "+path].eTag:headers["If-Modified-Since"]="Thu, 01 Jan 1970 00:00:00 GMT",(clientOptions.token||clientOptions.username&&clientOptions.password)&&(auth=clientOptions.token?"token "+clientOptions.token:"Basic "+base64encode(""+clientOptions.username+":"+clientOptions.password),headers.Authorization=auth),ajaxConfig={url:path,type:method,contentType:options.contentType,mimeType:mimeType,headers:headers,processData:!1,data:!options.raw&&data&&JSON.stringify(data)||data,dataType:options.raw?void 0:"json"},options.isBoolean&&(ajaxConfig.statusCode={204:function(_this){return function(){return cb(null,!0)}}(this),404:function(_this){return function(){return cb(null,!1)}}(this)}),ajax(ajaxConfig,function(err,val){var converted,discard,eTag,eTagResponse,href,i,jqXHR,json,links,listener,part,rateLimit,rateLimitRemaining,rel,_i,_j,_k,_len,_len1,_ref,_ref1,_ref2;for(jqXHR=err||val,rateLimit=parseFloat(jqXHR.getResponseHeader("X-RateLimit-Limit")),rateLimitRemaining=parseFloat(jqXHR.getResponseHeader("X-RateLimit-Remaining")),_i=0,_len=_listeners.length;_len>_i;_i++)(listener=_listeners[_i])(rateLimitRemaining,rateLimit,method,path,data,options);if(err){if(!options.isBoolean||404!==jqXHR.status)return err=new Error(jqXHR.responseText),err.status=jqXHR.status,"application/json; charset=utf-8"===jqXHR.getResponseHeader("Content-Type")&&(json=jqXHR.responseText?JSON.parse(jqXHR.responseText):"",err.json=json),cb(err)}else{if(304===jqXHR.status)return clientOptions.useETags&&_cachedETags[""+method+" "+path]?(eTagResponse=_cachedETags[""+method+" "+path],cb(null,eTagResponse.data,eTagResponse.status,jqXHR)):cb(null,jqXHR.responseText,status,jqXHR);if(204!==jqXHR.status||!options.isBoolean){if(302===jqXHR.status)return cb(null,jqXHR.getResponseHeader("Location"));if(jqXHR.responseText&&"json"===ajaxConfig.dataType)for(data=JSON.parse(jqXHR.responseText),links=jqXHR.getResponseHeader("Link"),_ref=(null!=links?links.split(","):void 0)||[],_j=0,_len1=_ref.length;_len1>_j;_j++)part=_ref[_j],_ref1=part.match(/<([^>]+)>;\ rel="([^"]+)"/),discard=_ref1[0],href=_ref1[1],rel=_ref1[2],data[""+rel+"_page_url"]=href;else data=jqXHR.responseText;if("GET"===method&&options.isBase64){for(converted="",i=_k=0,_ref2=data.length;_ref2>=0?_ref2>=_k:_k>=_ref2;i=_ref2>=0?++_k:--_k)converted+=String.fromCharCode(255&data.charCodeAt(i));data=converted}return"GET"===method&&jqXHR.getResponseHeader("ETag")&&clientOptions.useETags&&(eTag=jqXHR.getResponseHeader("ETag"),_cachedETags[""+method+" "+path]=new ETagResponse(eTag,data,jqXHR.status)),cb(null,data,jqXHR.status,jqXHR)}}})}},module.exports=Request},{"./grammar":2,"./helper-base64":3}]},{},[5])(5)});